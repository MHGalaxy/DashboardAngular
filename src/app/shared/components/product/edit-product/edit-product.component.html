<div>
  <app-page-breadcrumb pageTitle="Edit Product" />

  <div class="grid grid-cols-1 gap-6 xl:grid-cols-1">
    <div class="space-y-6">
      <app-component-card title="Edit Product">

        @if (isLoading) {
          <div class="rounded-lg border border-gray-200 bg-white p-4 text-sm text-gray-600 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300">
            Loading product...
          </div>
        } @else {

          @if (errorMessage) {
            <div class="mb-4 rounded-lg border border-red-200 bg-red-50 p-3 text-red-700">
              {{ errorMessage }}
            </div>
          }

          <form (ngSubmit)="submit()" class="space-y-6">

            <div>
              <app-label for="title">Title:</app-label>
              <app-input-field
                type="text"
                id="title"
                name="title"
                placeholder="Title of product ..."
                [(ngModel)]="form.title"
              />
            </div>

            <div>
              <app-label for="description">Description:</app-label>
              <app-text-area
                name="description"
                [rows]="6"
                placeholder="Description ..."
                [(ngModel)]="form.description"
              ></app-text-area>
            </div>

            <div>
              <app-label>Provider:</app-label>
              <app-select
                name="providerId"
                [options]="providers"
                placeholder="Select a provider"
                [(ngModel)]="form.providerId"
                className="dark:bg-dark-900"
              ></app-select>
            </div>

            <div>
              <app-label for="price">Price:</app-label>
              <app-input-field
                type="number"
                id="price"
                name="price"
                placeholder="50 ..."
                [(ngModel)]="form.price"
              />
            </div>

            <div>
              <app-label for="imageSrc">Image URL:</app-label>
              <app-input-field
                type="text"
                id="imageSrc"
                name="imageSrc"
                placeholder="https://..."
                [(ngModel)]="form.imageSrc"
              />
            </div>

            <div class="flex items-center gap-3">
              <button
                type="submit"
                class="inline-flex items-center justify-center rounded-lg bg-brand-600 px-4 py-3 text-theme-sm font-medium text-white shadow-theme-xs hover:bg-brand-700 disabled:cursor-not-allowed disabled:opacity-50"
                [disabled]="!isValid || isSubmitting"
              >
                {{ isSubmitting ? 'Saving...' : 'Save Changes' }}
              </button>

              <button
                type="button"
                class="inline-flex items-center justify-center rounded-lg border border-gray-300 bg-white px-4 py-3 text-theme-sm font-medium text-gray-900 shadow-theme-xs hover:bg-gray-50 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:hover:bg-gray-800"
                (click)="cancel()"
                [disabled]="isSubmitting"
              >
                Cancel
              </button>
            </div>

          </form>
        }

      </app-component-card>
    </div>
  </div>
</div>
